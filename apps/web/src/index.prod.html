<!DOCTYPE html>
<html lang="vi">
	<head>
		<!-- Base URL for Angular routing -->
		<base href="/" />

		<!-- Title (Keep under 60 characters for Google) -->
		<title>
			Đồng Quê - Cung Cấp Thực Phẩm Tươi Sạch Tại Quy Nhơn, Bình Định
		</title>

		<!-- Meta Tags for SEO and Compatibility -->
		<meta charset="UTF-8" />
		<meta
			http-equiv="Cache-Control"
			content="no-cache, no-store, must-revalidate"
		/>
		<meta http-equiv="Pragma" content="no-cache" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta
			name="description"
			content="Đồng Quê tại Quy Nhơn, Bình Định cung cấp thực phẩm tươi sạch, an toàn cho nhà hàng, khách sạn, quán ăn, trường học và trung tâm tiệc cưới. Giao hàng linh hoạt 24/7, giá sỉ cạnh tranh, dịch vụ chuyên nghiệp."
		/>
		<meta
			name="keywords"
			content="cung cấp thực phẩm Quy Nhơn, thực phẩm tươi sạch Bình Định, rau củ sạch, thịt hải sản, giao hàng 24/7, Đồng Quê, giá sỉ, hợp tác lâu dài"
		/>

		<!-- Canonical URL for SEO (avoid duplicate content) -->
		<link rel="canonical" href="https://dongque.viebal.top" />

		<!-- Favicon and Apple Touch Icons (Optimized for All Devices) -->
		<link
			rel="icon"
			type="image/png"
			href="/assets/favicons/favicon-96x96.png"
			sizes="96x96"
		/>
		<link
			rel="icon"
			type="image/svg+xml"
			href="/assets/favicons/favicon.svg"
		/>
		<link rel="shortcut icon" href="/assets/favicons/favicon.ico" />
		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="/assets/favicons/apple-touch-icon.png"
		/>
		<meta name="apple-mobile-web-app-title" content="Đồng Quê" />
		<link rel="manifest" href="/assets/favicons/site.webmanifest" />

		<!-- Open Graph Meta Tags for Social Sharing and SEO -->
		<meta
			property="og:title"
			content="Đồng Quê - Cung Cấp Thực Phẩm Tươi Sạch Tại Quy Nhơn, Bình Định"
		/>
		<meta
			property="og:description"
			content="Đồng Quê tại Quy Nhơn, Bình Định cung cấp thực phẩm tươi sạch, an toàn cho nhà hàng, khách sạn, quán ăn, trường học và trung tâm tiệc cưới. Giao hàng linh hoạt 24/7, giá sỉ cạnh tranh, dịch vụ chuyên nghiệp."
		/>
		<meta
			property="og:image"
			content="https://dongque.viebal.top/assets/images/logos/logo.png"
		/>
		<meta property="og:url" content="https://dongque.viebal.top" />
		<meta property="og:type" content="website" />
		<meta property="og:site_name" content="Đồng Quê" />

		<!-- Twitter Card Meta Tags for Twitter and Google Rich Results -->
		<meta name="twitter:card" content="summary_large_image" />
		<meta
			name="twitter:title"
			content="Đồng Quê - Cung Cấp Thực Phẩm Tươi Sạch Tại Quy Nhơn, Bình Định"
		/>
		<meta
			name="twitter:description"
			content="Đồng Quê tại Quy Nhơn, Bình Định cung cấp thực phẩm tươi sạch, an toàn cho nhà hàng, khách sạn, quán ăn, trường học và trung tâm tiệc cưới. Giao hàng linh hoạt 24/7, giá sỉ cạnh tranh, dịch vụ chuyên nghiệp."
		/>
		<meta
			name="twitter:image"
			content="https://dongque.viebal.top/assets/images/logos/logo.png"
		/>

		<!-- Structured Data (JSON-LD) for Rich Snippets (Enhanced for Logo and Organization) -->
		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@type": "WebSite",
				"name": "Đồng Quê",
				"url": "https://dongque.viebal.top",
				"description": "Đồng Quê tại Quy Nhơn, Bình Định cung cấp thực phẩm tươi sạch, an toàn cho nhà hàng, khách sạn, quán ăn, trường học và trung tâm tiệc cưới. Giao hàng linh hoạt 24/7, giá sỉ cạnh tranh, dịch vụ chuyên nghiệp.",
				"publisher": {
					"@type": "Organization",
					"name": "Đồng Quê",
					"logo": {
						"@type": "ImageObject",
						"url": "https://dongque.viebal.top/assets/images/logos/logo.png",
						"width": 1200,
						"height": 630
					},
					"address": {
						"@type": "PostalAddress",
						"addressLocality": "Quy Nhơn",
						"addressRegion": "Bình Định",
						"addressCountry": "VN"
					}
				}
			}
		</script>
		<!-- Robots and Sitemap for SEO Crawling -->
		<link rel="robots" href="/robots.txt" />
		<link
			rel="sitemap"
			type="application/xml"
			title="Sitemap"
			href="/sitemap.xml"
		/>

		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Moon+Dance&family=Oswald:wght@200..700&display=swap"
			rel="stylesheet"
		/>

		<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
	</head>
	<body style="position: relative" class="home-landing">
		<style>
			body {
				margin: 0;
				padding: 0;
			}
			app {
				opacity: 0;
				transition: opacity 0.3s ease-in-out;
			}
			.splash-screen {
				position: fixed;
				top: 0;
				left: 0;
				z-index: 9999;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				width: 100vw;
				width: 100dvw;
				height: 100vh;
				height: 100dvh;
				background-color: #f3eee6;
				opacity: 1;
				transition: opacity 0.3s ease-in-out;
			}
		</style>

		<app></app>

		<!-- Splash Screen with Optimized LCP Animation -->
		<div class="splash-screen">
			<lottie-player
				id="splash-animation"
				src="/assets/images/icons/splash.json"
				autoplay
				loop="false"
				speed="1"
				style="width: 400px; height: 400px"
			></lottie-player>
		</div>

		<script>
			// Function to safely insert CSS rule
			function safeInsertRule(rule, index) {
				try {
					// Check if styleSheets exists and is not empty
					if (
						document.styleSheets &&
						document.styleSheets.length > 0
					) {
						const styleSheet = document.styleSheets[0];
						// Check if the stylesheet is accessible (some browsers block access)
						if (styleSheet && 'insertRule' in styleSheet) {
							styleSheet.insertRule(rule, index);
							return true;
						}
					}
					// Fallback: Add style dynamically via DOM if insertRule fails
					const styleElement = document.createElement('style');
					document.head.appendChild(styleElement);
					styleElement.sheet.insertRule(rule, index);
					return true;
				} catch (e) {
					console.warn('Failed to insert rule:', e);
					// Fallback: Apply styles directly to elements
					applyStylesFallback();
					return false;
				}
			}

			// Fallback function to apply styles directly to DOM elements
			function applyStylesFallback() {
				const appElement = document.querySelector('app[ng-version]');
				const splashScreen = document.querySelector('.splash-screen');

				if (appElement && splashScreen) {
					splashScreen.style.opacity = '0';
					appElement.style.opacity = '1';

					setTimeout(() => {
						splashScreen.style.display = 'none';
					}, 300);
				}
			}

			// Main logic
			if (!localStorage.getItem('isLoaded')) {
				setTimeout(() => {
					const rules = [
						'app[ng-version] + .splash-screen { opacity: 0 !important }',
						'app[ng-version] { opacity: 1 !important }',
					];

					rules.forEach((rule) => safeInsertRule(rule, 0));

					localStorage.setItem('isLoaded', 'true');

					setTimeout(() => {
						safeInsertRule(
							'app[ng-version] + .splash-screen { display: none !important }',
							0
						);
					}, 300);
				}, 2500);
			} else {
				setTimeout(() => {
					const rules = [
						'app[ng-version] + .splash-screen { opacity: 0 !important }',
						'app[ng-version] { opacity: 1 !important }',
					];

					rules.forEach((rule) => safeInsertRule(rule, 0));

					setTimeout(() => {
						safeInsertRule(
							'app[ng-version] + .splash-screen { display: none !important }',
							0
						);
					}, 300);
				}, 1000);
			}
		</script>
	</body>
</html>
